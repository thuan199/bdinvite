<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Thi·ªáp m·ªùi sinh nh·∫≠t</title>
  <style>
    :root {
      --bg1: #ffdee9;
      --bg2: #b5fffc;
      --primary: #ff6b6b;
      --accent: #845ef7;
      --ink: #2d2a32;
      --card-bg: rgba(255, 255, 255, 0.85);
      --shadow: 0 10px 30px rgba(0,0,0,.15);
      --radius: 24px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-rounded, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--ink);
      background: linear-gradient(135deg, var(--bg1), var(--bg2));
      overflow-x: hidden;
    }

    /* Subtle animated gradient */
    body::before {
      content: "";
      position: fixed;
      inset: -20vh -20vw;
      background: radial-gradient(40vmax 40vmax at 10% 10%, rgba(255,255,255,.25), transparent),
                  radial-gradient(35vmax 35vmax at 90% 10%, rgba(255,255,255,.18), transparent),
                  radial-gradient(45vmax 45vmax at 50% 120%, rgba(255,255,255,.20), transparent);
      filter: blur(30px);
      animation: float-bg 18s ease-in-out infinite alternate;
      z-index: -2;
    }
    @keyframes float-bg {
      to { transform: translateY(-2%) translateX(2%); }
    }

    .wrap {
      min-height: 100dvh;
      display: grid;
      place-items: center;
      padding: 24px;
    }

    .card {
      width: min(680px, 92vw);
	  margin: auto;	
      background: var(--card-bg);
      backdrop-filter: blur(10px) saturate(120%);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      border: 1px solid rgba(255,255,255,.6);
      overflow: hidden;
    }

    .card-header {
      position: relative;
      padding: 28px 28px 18px;
      background: conic-gradient(from 180deg at 50% 50%, #ffe3e3, #e5dbff, #d3f9d8, #ffe3e3);
    }
    .title {
      margin: 0;
      font-size: clamp(26px, 4vw, 36px);
      letter-spacing: .5px;
      color: #5f3dc4;
      text-shadow: 0 1px 0 rgba(255,255,255,.8);
    }
    .subtitle {
      margin: 6px 0 0;
      opacity: .8;
      font-size: clamp(14px, 2.5vw, 16px);
    }

    .card-body { padding: 26px; }
    .row { display: grid; gap: 12px; }

    .input {
      width: 100%;
      padding: 14px 16px;
      border-radius: 14px;
      border: 1px solid rgba(0,0,0,.08);
      background: #fff;
      font-size: 16px;
      outline: none;
      transition: box-shadow .2s, transform .06s;
    }
    .input:focus { box-shadow: 0 0 0 4px rgba(132,94,247,.18); }

    .btn {
      appearance: none;
      border: 0;
      padding: 12px 16px;
      border-radius: 14px;
      background: linear-gradient(135deg, #ff8787, #845ef7);
      color: white;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      box-shadow: 0 6px 18px rgba(132,94,247,.35);
      transition: transform .08s ease, filter .2s ease;
    }
    .btn:hover { filter: brightness(1.05); }
    .btn:active { transform: translateY(1px) scale(0.99); }
	.btn.secondary { background: linear-gradient(135deg, #91a7ff, #22b8cf); box-shadow: 0 6px 18px rgba(34,184,207,.35); }
    .btn.join { background: linear-gradient(135deg, #51cf66, #1098ad); box-shadow: 0 6px 18px rgba(81,207,102,.35); }
    .btn.deny { background: linear-gradient(135deg, #ff6b6b, #f06595); box-shadow: 0 6px 18px rgba(240,101,149,.35); }

    .muted { opacity: .7; font-size: 14px; }

    /* Pages */
    .page { display: none; }
    .page.active { display: block; animation: rise .5s ease both; }
    @keyframes rise { from { opacity: 0; transform: translateY(10px) scale(.98);} }

    /* Invitation view */
    .invite {
      display: grid;
      gap: 5px;
      line-height: 1.2;
      font-size: 18px;
    }
    .invite h2 {
      margin: 0 0 4px;
      font-size: clamp(24px, 4vw, 32px);
      color: #c2255c;
      text-align: center;
    }
    .invite .lead { font-size: 20px; }
    .actions { display: flex; gap: 10px; flex-wrap: wrap; margin-top: 8px; }
    .btn.secondary { background: linear-gradient(135deg, #91a7ff, #22b8cf); box-shadow: 0 6px 18px rgba(34,184,207,.35); }

    /* Confetti */
    .confetti {
      position: fixed;
      top: -10vh;
      width: 10px; height: 16px;
      opacity: .9;
      transform: rotate(0deg);
      will-change: transform, top, left;
      z-index: 20;
      pointer-events: none;
    }

    @keyframes fall {
      0% { transform: translateY(-10vh) rotate(0); }
      100% { transform: translateY(110vh) rotate(720deg); }
    }

    /* Balloons */
    .balloons { position: fixed; inset: 0; overflow: hidden; z-index: -1; pointer-events: none; }
    .balloon {
      position: absolute;
      bottom: -20vh;
      width: 40px; height: 52px;
      border-radius: 50% 50% 45% 55% / 55% 55% 45% 45%;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.7), transparent 35%),
                  var(--bcolor, #ff8787);
      box-shadow: inset -8px -10px 20px rgba(0,0,0,.12);
      animation: riseBalloon var(--dur, 16s) linear infinite;
      opacity: .6;
    }
    .balloon::after {
      content: ""; position: absolute; left: 50%; bottom: -18px; width: 2px; height: 22px; background: rgba(0,0,0,.15);
    }
    @keyframes riseBalloon {
      0% { transform: translateY(0) translateX(0); }
      50% { transform: translateY(-50vh) translateX(20px); }
      100% { transform: translateY(-110vh) translateX(-10px); }
    }

    /* Typewriter effect for the line with the name */
    .typewriter {
      display: inline-block;
      overflow: hidden;
      white-space: nowrap;
      border-right: 3px solid rgba(0,0,0,.3);
      animation: typing 2.6s steps(30, end), blink .8s step-end infinite alternate;
    }
    @keyframes typing { from { width: 0; } to { width: 100%; } }
    @keyframes blink { from { border-color: transparent; } to { border-color: rgba(0,0,0,.35); } }

    /* Print styles */
    @media print {
      body { background: #fff; }
      .balloons, .confetti, .actions, .subtitle { display: none !important; }
      .card { box-shadow: none; border: 0; }
      .card-header { background: #fff; }
    }

    /* Respect reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * { animation: none !important; transition: none !important; }
    }

	@media (max-width: 480px) {
  		.card-body {padding: 16px;}
  		.invite {font-size: 16px;line-height: 1.5;
  	}
}
  </style>
</head>
<body>
  <div class="balloons" aria-hidden="true">
    <!-- A few balloons with varied positions -->
    <div class="balloon" style="left:5%; --bcolor:#ffa8a8; --dur:18s;"></div>
    <div class="balloon" style="left:18%; --bcolor:#ffd8a8; --dur:22s; animation-delay: -3s"></div>
    <div class="balloon" style="left:32%; --bcolor:#d0bfff; --dur:20s; animation-delay: -8s"></div>
    <div class="balloon" style="left:47%; --bcolor:#a5d8ff; --dur:17s; animation-delay: -1s"></div>
    <div class="balloon" style="left:63%; --bcolor:#b2f2bb; --dur:24s; animation-delay: -6s"></div>
    <div class="balloon" style="left:78%; --bcolor:#ffc9de; --dur:19s; animation-delay: -10s"></div>
    <div class="balloon" style="left:90%; --bcolor:#ffe066; --dur:21s; animation-delay: -4s"></div>
  </div>

  <main class="wrap">
    <section id="page-1" class="page active" aria-label="Nh·∫≠p t√™n">
      <div class="card">
        <div class="card-header">
          <h1 class="title">M√†y ƒë√£ ƒë∆∞·ª£c tri·ªáu t·∫≠p, tml</h1>
          <p class="subtitle">Nh·∫≠p t√™n m√†y v√†o ƒëi th·∫±ng r·ªì ‚ú®</p>
        </div>
        <div class="card-body">
          <form id="form" class="row">
            <label for="name" class="muted">Ghi t√™n m√†y v√†o √¥ b√™n d∆∞·ªõi</label>
            <input id="name" class="input" type="text" required placeholder="VD: Lan Anh, Tu·∫•n, ..." />
            <button class="btn" type="submit">M·ªü gi·∫•y tri·ªáu t·∫≠p</button>
          </form>
        </div>
      </div>
    </section>

    <section id="page-2" class="page" aria-label="Thi·ªáp m·ªùi">
      <div class="card">
        <div class="card-header">
          <h1 class="title"><center>C∆° quan qu·∫£n l√Ω ƒÉn nh·∫≠u v√† ph√≤ng ch·ªëng ƒë√° bia</center></h1>
        </div>
        <div class="card-body">
          <div class="invite">
            <h2>Gi·∫•y tri·ªáu t·∫≠p b·ªã can</h2>
            <p class="lead"><span class="typewriter"><strong>ƒê·ªëi t∆∞·ª£ng: <span id="guest">tml</span></strong></span></p>
            <p>ƒê√∫ng<strong>19:00 ng√†y 19/09/2025</strong> c√≥ m·∫∑t t·∫°i vƒÉn ph√≤ng <strong>C·ª´u Non Hy L·∫°p</strong>.</p>
            <p>ƒê·ªãa ch·ªâ: <strong>395 Ho√†ng Sa, Ph∆∞·ªùng V√µ Th·ªã S√°u, Qu·∫≠n 3, H·ªì Ch√≠ Minh</strong>.</p>
            <p>ƒê·ªÉ l√†m vi·ªác v·ªÅ n·ªôi dung li√™n quan ƒë·∫øn t√¨nh h√¨nh ƒë√° bia hi·ªán nay. Ch√†o th√¢n √°i v√† b√≥p d*i. üëãüèª</p>
			
            <div class="actions">
			  <button class="btn join" id="joinBtn" type="button">Tham gia</button>
              <button class="btn deny" id="denyBtn" type="button">T·ª´ ch·ªëi</button>
              <button class="btn secondary" id="editBtn" type="button">S·ª≠a t√™n</button>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const form = document.getElementById('form');
    const nameInput = document.getElementById('name');
    const guestSpan = document.getElementById('guest');
    const page1 = document.getElementById('page-1');
    const page2 = document.getElementById('page-2');
    const editBtn = document.getElementById('editBtn');
	const denyBtn = document.getElementById('denyBtn');
    const joinBtn = document.getElementById('joinBtn');

    function sanitize(text) {
      // Basic sanitize to prevent HTML injection
      return text.replace(/[<>]/g, '');
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const name = sanitize(nameInput.value.trim());
      if (!name) {
        nameInput.focus();
        nameInput.style.boxShadow = '0 0 0 4px rgba(255,107,107,.35)';
        setTimeout(() => (nameInput.style.boxShadow = ''), 500);
        return;
      }
      guestSpan.textContent = name;
      swap(page1, page2);
      fireConfetti(150);
    });

    editBtn.addEventListener('click', () => {
      swap(page2, page1);
      setTimeout(() => nameInput.focus(), 50);
    });

	 joinBtn.addEventListener('click', () => {
      alert('OK ƒë√≥ tml. üéâ');
    });

    // "T·ª´ ch·ªëi" n√© chu·ªôt
    denyBtn.addEventListener('mouseover', () => {
      const offsetX = (Math.random() - 0.5) * 200;
      const offsetY = (Math.random() - 0.5) * 120;
      denyBtn.style.transform = `translate(${offsetX}px, ${offsetY}px)`;
      denyBtn.style.transition = 'transform 0.3s';
    });

    function swap(hideEl, showEl) {
      hideEl.classList.remove('active');
      showEl.classList.add('active');
      // Restart typewriter effect by reflowing element
      if (showEl === page2) {
        const tw = showEl.querySelector('.typewriter');
        if (tw) {
          tw.style.animation = 'none';
          tw.offsetHeight; // reflow
          tw.style.animation = '';
        }
      }
    }

    // Confetti generator (vanilla, lightweight)
    function fireConfetti(count = 120) {
      const colors = ['#ff6b6b', '#ffd43b', '#69db7c', '#74c0fc', '#b197fc', '#f783ac'];
      const frag = document.createDocumentFragment();
      for (let i = 0; i < count; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti';
        piece.style.left = Math.random() * 100 + 'vw';
        piece.style.background = colors[Math.floor(Math.random() * colors.length)];
        piece.style.transform = `rotate(${Math.random() * 360}deg)`;
        const size = 8 + Math.random() * 8;
        piece.style.width = size + 'px';
        piece.style.height = size * (0.8 + Math.random() * 0.6) + 'px';
        piece.style.animation = `fall ${5 + Math.random() * 3}s linear`;
        piece.style.animationDelay = (Math.random() * 0.5) + 's';
        frag.appendChild(piece);
        // auto cleanup
        setTimeout(() => piece.remove(), 9000);
      }
      document.body.appendChild(frag);
    }

    // Accessibility: open with Enter in input
    nameInput.addEventListener('keydown', (ev) => {
      if (ev.key === 'Enter') {
        form.requestSubmit();
      }
    });
  </script>
</body>
<script>
  // H√†m l·∫•y tham s·ªë ?name=...
  function getQueryParam(param) {
    const urlParams = new URLSearchParams(window.location.search);
	return value ? decodeURIComponent(value) : null;
  }

  const guestName = getQueryParam('name');
  if (guestName) {
    // N·∫øu c√≥ name trong URL ‚Üí b·ªè qua b∆∞·ªõc nh·∫≠p, hi·ªán th·∫≥ng thi·ªáp
    document.getElementById('guest').textContent = guestName;
    document.getElementById('page-1').classList.remove('active');
    document.getElementById('page-2').classList.add('active');
  }
</script>	
</html>
